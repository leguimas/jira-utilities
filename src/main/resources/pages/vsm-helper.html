<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="shortcut icon" type="image/png" href="./images/favicon.png"/>

		<title>JIRA VSM Helper</title>

		<!-- Bootstrap core CSS -->
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">
		<!-- Bootstrap theme -->
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css" rel="stylesheet">
	</head>

	<body role="document">

		<div class="container theme-showcase" role="main">

			<h1>
				<a href="index.html"><span class="glyphicon glyphicon-home" aria-hidden="true"></span></a>
			    JIRA VSM Helper
			</h1>

			<div class="row">
				<div class="col-sm-12">
					<div class="panel panel-default">
						<div class="panel-heading">
							<h3 class="panel-title">JIRA Settings</h3>
						</div>
						<div class="panel-body">
							<form>
								<div class="row">
									<div class="col-sm-8">
										<div class="form-group">
											<label for="jiraURL">JIRA URL</label>
											<input type="text" class="form-control" id="jiraURL" placeholder="The base URL for your JIRA. Ex: https://jira.mycompany.com">
										</div>
									</div>
									<div class="col-sm-4">
										<div class="form-group">
											<label for="jql">JQL <a href="https://confluence.atlassian.com/display/JIRA/Advanced+Searching" target="_blank">(what is that?)</a></label>
											<input type="text" class="form-control" id="jql" placeholder="The JQL you want to execute on JIRA.">
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-sm-6">
										<div class="form-group">
											<label for="username">Username</label>
											<input type="text" class="form-control" id="username" placeholder="Your JIRA username">
										</div>
									</div>
									<div class="col-sm-6">
										<div class="form-group">
		 									<label for="password">Password</label>
		 									<input type="password" class="form-control" id="password" placeholder="Your JIRA password">
		  								</div>
	  								</div>
  								</div>
  								<button class="btn btn-primary" data-loading-text="Processing..." type="button" id="btnGetData">Get data</button>
  							</form>
						</div>
					</div>
				</div>
			</div>

			<div id="message-info" class="alert alert-info">You have to fill all fields before click the button.</div>
			<div id="message-error" class="alert alert-danger" style="display: none;"></div>

			<div id="tasks-transitions-time">
			</div>

		</div> 

		<!-- Placed at the end of the document so the pages load faster -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

		<script src="./js/jira-vsm-helper.js"></script>

		<script>
			$(document).ready(function() {
				$('#btnGetData').click(function() {
					$(this).button('loading');
					$('#message-error').hide();
					$('#historical-transition').hide();

					jiraVsmHelper.getData($('#jiraURL').val(), $('#jql').val(), $('#username').val(), $('#password').val());
				});

				$("body").keypress(function(event){
				    if(event.keyCode == 13){
				        event.preventDefault();
				        $("#btnGetData").click();
				    }
				});
			});
		</script>
	</body>
</html>